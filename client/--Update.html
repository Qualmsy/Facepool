<template name="Update">

 <fieldset>
  <legend><h2>Update this Offer</h2></legend>

  
  {{#autoForm id="UpdateOfferForm" collection="Offers" type="update" doc=this}}
    <h2>Departure</h2>
  <div class="marginLeft">
    <strong>Time of departure :</strong>
    {{moFormat Departure.time }} 
    ({{moFromNow Departure.time withoutSuffix}})
    <div>
      <strong>Description of location :</strong>
      {{Departure.location.description}}
    </div>
    {{> afQuickField name="Departure.location" }}
  </div>
   <hr/>
    {{#if midpoints}}
     
      <div class="marginLeft">
      {{moFormat Midpoint1.time }} 
      ({{moFromNow Midpoint1.time withoutSuffix}})
      <div>
       <strong>Description of location :</strong>
       {{Midpoint1.location.description}}
      </div>
      {{> afQuickField name="Midpoint1.location" }}
    </div>
    {{/if}}
    {{#if twomidpoints}}
      <hr/>
      <div class="marginLeft">
      {{moFormat Midpoint2.time }} 
      ({{moFromNow Midpoint2.time withoutSuffix}})
      <div>
       <strong>Description of location :</strong>
       {{Midpoint2.location.description}}
      </div>
      {{> afQuickField name="Midpoint2.location" }}
    </div>
    {{/if}}
  <button  id="addNewMidpoint" class="btn btn-success">
    Add new midpoint
  </button>
  {{#if midpoints}}
    <button  id="removeMidpoint" class="btn btn-success">
      Remove midpoint
    </button>
    There are {{midpoints}} to this route.
  {{else}}
    There is no midpoint to this route.
  {{/if}}
    <hr/>

    <h2>Arrival</h2>
    <div class="marginLeft">
    {{#if Arrival.time}}
      <strong>Estimated time of arrival :</strong>
      {{moFormat Arrival.time }} 
      ({{moFromNow Arrival.time withoutSuffix}})
    {{/if}}
    <div>
      <strong>Description of location :</strong>
      {{Arrival.location.description}}
    </div>
    {{> afQuickField name="Arrival.location" }}
  </div>

    <div class="form-group">
      <button type="submit" class="btn btn-primary">
        Update
      </button>
      <button type="reset" class="btn btn-warning marginLeft">
        Reset
      </button>
      <a href="/" class="btn btn-danger marginLeft">Cancel</a>
    </div>
  {{/autoForm}}
 </fieldset>
</template>